"use strict";(self.webpackChunkliga_soccer=self.webpackChunkliga_soccer||[]).push([[9040],{18411:(e,r,n)=>{n.d(r,{A:()=>c});var t=n(80982),a=n(51047),s=n(39442),o=n(23163),i=n.n(o),l=n(27929);const c=e=>{let{open:r,onClose:n}=e;const{register:o,handleSubmit:c,formState:{errors:d},reset:u}=(0,s.mN)(),m=()=>{u(),n()};return(0,l.jsx)(t.default,{open:r,onClose:m,children:(0,l.jsxs)("div",{className:"d-flex flex-column g-20",children:[(0,l.jsxs)("div",{className:"d-flex flex-column g-10",children:[(0,l.jsx)("h2",{children:"Reset Password"}),(0,l.jsx)("p",{children:"Enter your email address below and we'll send you a link to reset your password."})]}),(0,l.jsxs)("div",{className:"d-flex flex-column g-16",children:[(0,l.jsxs)("form",{className:"d-flex g-10",onSubmit:c((e=>{a.oR.info("New password was sent to ".concat(e.email)),m()})),children:[(0,l.jsx)("input",{className:i()("field",{"field--error":d.email}),type:"text",placeholder:"example@domain.com",...o("email",{required:!0,pattern:/^\S+@\S+$/i})}),(0,l.jsx)("button",{className:"btn",children:"Send"})]}),(0,l.jsx)("p",{className:"text-12",children:"If you don't receive an email within a few minutes, please check your spam folder."})]})]})})}},63466:(e,r,n)=>{n.r(r),n.d(r,{default:()=>S});var t,a=n(25984),s=n(57528),o=n(32430),i=n(18411),l=n(20477),c=n(3936),d=n(51047),u=n(39442),m=n(11030),f=n(27565),h=n(23163),v=n.n(h),x=n(19183),p=n(57654),g=n(77265),k=n(10723),b=n(27929);const w=(0,p.J1)(t||(t=(0,s.A)(["\n  mutation Login($email: String!, $password: String!) {\n    login(userInput: { email: $email, password: $password }) {\n      user {\n        name\n        email\n        tel\n        role {\n          name\n        }\n      }\n\n      accessToken\n      refreshToken\n      error {\n        code\n        message\n      }\n    }\n  }\n"]))),j=()=>{const[e,r]=(0,f.useState)(!1),{register:n,handleSubmit:t,formState:{errors:a},control:s}=(0,u.mN)({defaultValues:{email:"",password:""}}),[h,{data:p,loading:j}]=(0,g.n)(w),S=(0,m.Zp)(),y=(0,k.wA)(),A=(0,k.d4)((e=>e.auth.status)),C=(0,k.d4)((e=>e.auth.error)),N=(0,k.d4)((e=>e.events.ticketsDesired));(0,f.useEffect)((()=>{"failed"===A&&d.oR.error(C),"succeeded"===A&&(Object.keys(N).length>1?S("/payment"):S("/"))}),[y,A]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h1",{children:"Connexion"}),(0,b.jsxs)("form",{onSubmit:t((async(e,r)=>{r.preventDefault();try{await y((0,x.vp)({loginFunc:h,email:e.email,password:e.password})).unwrap()}catch(C){console.log(" Error",C)}})),children:[(0,b.jsxs)("div",{className:"d-flex flex-column g-10",style:{margin:"20px 0 30px"},children:[(0,b.jsxs)("div",{className:"d-flex flex-column g-20",children:[(0,b.jsx)("input",{className:v()("field",{"field--error":a.email}),type:"text",placeholder:"E-mail",...n("email",{required:!0,pattern:/^\S+@\S+$/i})}),(0,b.jsx)(u.xI,{control:s,name:"password",rules:{required:!0,minLength:8},render:e=>{let{field:{ref:r,onChange:n,value:t},fieldState:{error:a}}=e;return(0,b.jsx)(o.A,{className:v()("field",{"field--error":a}),value:t,onChange:e=>n(e.target.value),placeholder:"Mot de passe (minimum 8 charact\xe8res)",innerRef:r})}})]}),(0,b.jsx)("div",{className:"d-flex align-items-center g-10",children:(0,b.jsx)(l.k2,{"aria-label":"Inscription",to:"/sign-up",children:(0,b.jsx)("label",{htmlFor:"rememberMe",children:"Inscrivez-vous"})})})]}),"loading"===A?(0,b.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,b.jsx)(c.A,{color:"success",style:{margin:"auto"}})}):(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsx)("button",{className:"btn btn--sm",type:"submit",children:"Connexion"}),(0,b.jsx)("button",{className:"text-button text-button--sm",onClick:e=>{e.preventDefault(),r(!0)},children:"Oubli\xe9 mot de passe"})]})]}),(0,b.jsx)(i.A,{open:e,onClose:()=>r(!1)})]})},S=()=>(0,b.jsx)(a.A,{title:"Login",children:(0,b.jsx)(j,{})})},3936:(e,r,n)=>{n.d(r,{A:()=>E});var t=n(57528),a=n(98587),s=n(58168),o=n(27565),i=n(71099),l=n(68788),c=n(54304),d=n(23637),u=n(54874),m=n(93725),f=n(31406),h=n(56129);function v(e){return(0,h.Ay)("MuiCircularProgress",e)}(0,f.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var x,p,g,k,b=n(27929);const w=["className","color","disableShrink","size","style","thickness","value","variant"];let j,S,y,A;const C=44,N=(0,c.i7)(j||(j=x||(x=(0,t.A)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),M=(0,c.i7)(S||(S=p||(p=(0,t.A)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),D=(0,m.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.root,r[n.variant],r["color".concat((0,d.A)(n.color))]]}})((e=>{let{ownerState:r,theme:n}=e;return(0,s.A)({display:"inline-block"},"determinate"===r.variant&&{transition:n.transitions.create("transform")},"inherit"!==r.color&&{color:(n.vars||n).palette[r.color].main})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&(0,c.AH)(y||(y=g||(g=(0,t.A)(["\n      animation: "," 1.4s linear infinite;\n    "]))),N)})),I=(0,m.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),R=(0,m.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.circle,r["circle".concat((0,d.A)(n.variant))],n.disableShrink&&r.circleDisableShrink]}})((e=>{let{ownerState:r,theme:n}=e;return(0,s.A)({stroke:"currentColor"},"determinate"===r.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&!r.disableShrink&&(0,c.AH)(A||(A=k||(k=(0,t.A)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),M)})),E=o.forwardRef((function(e,r){const n=(0,u.A)({props:e,name:"MuiCircularProgress"}),{className:t,color:o="primary",disableShrink:c=!1,size:m=40,style:f,thickness:h=3.6,value:x=0,variant:p="indeterminate"}=n,g=(0,a.A)(n,w),k=(0,s.A)({},n,{color:o,disableShrink:c,size:m,thickness:h,value:x,variant:p}),j=(e=>{const{classes:r,variant:n,color:t,disableShrink:a}=e,s={root:["root",n,"color".concat((0,d.A)(t))],svg:["svg"],circle:["circle","circle".concat((0,d.A)(n)),a&&"circleDisableShrink"]};return(0,l.A)(s,v,r)})(k),S={},y={},A={};if("determinate"===p){const e=2*Math.PI*((C-h)/2);S.strokeDasharray=e.toFixed(3),A["aria-valuenow"]=Math.round(x),S.strokeDashoffset="".concat(((100-x)/100*e).toFixed(3),"px"),y.transform="rotate(-90deg)"}return(0,b.jsx)(D,(0,s.A)({className:(0,i.A)(j.root,t),style:(0,s.A)({width:m,height:m},y,f),ownerState:k,ref:r,role:"progressbar"},A,g,{children:(0,b.jsx)(I,{className:j.svg,ownerState:k,viewBox:"".concat(22," ").concat(22," ").concat(C," ").concat(C),children:(0,b.jsx)(R,{className:j.circle,style:S,ownerState:k,cx:C,cy:C,r:(C-h)/2,fill:"none",strokeWidth:h})})}))}))},77265:(e,r,n)=>{n.d(r,{n:()=>d});var t=n(958),a=n(26366),s=n(81245),o=n(57294),i=n(97388),l=n(84928),c=n(13422);function d(e,r){var n=(0,c.m)(null===r||void 0===r?void 0:r.client);(0,i.D$)(e,i.KG.Mutation);var d=a.useState({called:!1,loading:!1,client:n}),u=d[0],m=d[1],f=a.useRef({result:u,mutationId:0,isMounted:!0,client:n,mutation:e,options:r});Object.assign(f.current,{client:n,options:r,mutation:e});var h=a.useCallback((function(e){void 0===e&&(e={});var r=f.current,n=r.options,a=r.mutation,i=(0,t.Cl)((0,t.Cl)({},n),{mutation:a}),c=e.client||f.current.client;f.current.result.loading||i.ignoreResults||!f.current.isMounted||m(f.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:c});var d=++f.current.mutationId,u=(0,s.l)(i,e);return c.mutate(u).then((function(r){var n,t,a=r.data,s=r.errors,i=s&&s.length>0?new l.K4({graphQLErrors:s}):void 0,h=e.onError||(null===(n=f.current.options)||void 0===n?void 0:n.onError);if(i&&h&&h(i,u),d===f.current.mutationId&&!u.ignoreResults){var v={called:!0,loading:!1,data:a,error:i,client:c};f.current.isMounted&&!(0,o.L)(f.current.result,v)&&m(f.current.result=v)}var x=e.onCompleted||(null===(t=f.current.options)||void 0===t?void 0:t.onCompleted);return i||null===x||void 0===x||x(r.data,u),r})).catch((function(r){var n;if(d===f.current.mutationId&&f.current.isMounted){var t={loading:!1,error:r,data:void 0,called:!0,client:c};(0,o.L)(f.current.result,t)||m(f.current.result=t)}var a=e.onError||(null===(n=f.current.options)||void 0===n?void 0:n.onError);if(a)return a(r,u),{data:void 0,errors:r};throw r}))}),[]),v=a.useCallback((function(){if(f.current.isMounted){var e={called:!1,loading:!1,client:n};Object.assign(f.current,{mutationId:0,result:e}),m(e)}}),[]);return a.useEffect((function(){return f.current.isMounted=!0,function(){f.current.isMounted=!1}}),[]),[h,(0,t.Cl)({reset:v},u)]}}}]);
//# sourceMappingURL=9040.0ea90083.chunk.js.map
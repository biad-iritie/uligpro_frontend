"use strict";(self.webpackChunkliga_soccer=self.webpackChunkliga_soccer||[]).push([[7192],{30166:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var a=n(2643),r=n(63246);const s={card:"styles_card__vmIgG",container:"styles_container__w5464",wrapper:"styles_wrapper__USPiG",title:"styles_title__rUpHw",img:"styles_img__6R0-i",button:"styles_button__kFxMi"};var l=n(96529),i=(n(90403),n(80982),n(89105)),o=(n(24202),n(23212),n(4536),n(65493)),c=(n(78176),n(4909),n(58242),n(27231),n(25692),n(90969),n(19736)),d=n(10723),u=n(27565),h=n(27929);const m=()=>{const[e,{height:t}]=(0,o.A)(),[n,{width:a}]=(0,o.A)(),r=(0,d.d4)((e=>e.events.ticketsDesired)),[c,m]=(0,u.useState)([]),[x,v]=(0,u.useState)(0);return(0,u.useEffect)((()=>{if(0===c.length&&Object.keys(r).length>0){let e=[],t=0;Object.entries(r).forEach((n=>{let[a,r]=n;e.push(r),t+=r.quantity*r.price})),v(t),m(e)}}),[r]),(0,h.jsxs)(l.A,{className:"".concat(s.card," card card-padded"),children:[(0,h.jsx)("h3",{className:s.title,children:"Recapitulatif"}),(0,h.jsx)("div",{className:"track d-flex flex-column flex-1",children:c.length>0?c.map(((e,t)=>{const r=e.name,l="".concat(e.price," FCFA"),o=e.quantity,c="".concat(e.price*e.quantity," FCFA");return(0,h.jsxs)("div",{style:{paddingBottom:"10px"},className:"".concat(s.item," d-flex align-items-center justify-content-between g-20"),children:[(0,h.jsx)("div",{className:"d-flex align-items-center flex-1 g-10",children:(0,h.jsxs)("div",{className:"d-flex flex-column flex-1",ref:n,children:[(0,h.jsx)(i.A,{className:"h4",text:r,width:a,lines:1}),(0,h.jsx)("span",{className:"label label--store h5",children:"".concat(l," x ").concat(o)})]})}),(0,h.jsx)("h3",{className:"text-highlight",children:c})]},t)})):(0,h.jsx)(h.Fragment,{})}),(0,h.jsx)("div",{className:"card-padded d-flex flex-column g-20",ref:e,children:(0,h.jsxs)("p",{className:"d-flex justify-content-between h3",children:["Total: ",(0,h.jsx)("span",{children:"".concat(x," FCFA")})]})})]})};var x=n(57528);const v="styles_tabs_list__kn+Ou",f="styles_row__-lW3B",p="styles_footer__U4H+f";var b=n(61040),g=n(98364),j=n(3676),y=n(54556),_=n(95586),N=n(89575),k=n(51047),w=n(39442),C=n(23163),A=n.n(C),S=n(34653),I=n.n(S),R=n(11651);const q=()=>{const[e,t]=(0,u.useState)(),[n,a]=(0,u.useState)(),[r,s]=(0,u.useState)([]),{register:l,handleSubmit:i,formState:{errors:o},reset:c,control:d}=(0,w.mN)({defaultValues:{name:"Lottie Poole",phone:"",email:"",birth:"",country:null,city:null,address:"",zip:""}}),m=()=>{let e=I()().getData();for(let t=0;t<e.length;t++)"RU"===e[t].value&&(e[t].label="Russia [terrorist state]");return e};return(0,h.jsxs)("form",{className:"d-flex flex-column g-20",onSubmit:i((e=>{k.oR.success("Your changes have been successfully saved!")})),children:[(0,h.jsxs)("div",{className:f,children:[(0,h.jsx)(w.xI,{name:"country",control:d,render:e=>{let{field:n}=e;return(0,h.jsx)(_.A,{options:m(),value:n.value,onChange:e=>{n.onChange(e),(e=>{t(e),a(null);let n=[];R.A.getCitiesOfCountry(e.value).map((e=>n.push({value:e.name,label:e.name}))),s(n)})(e)},placeholder:"Country",isSearchable:!0,variant:"basic",innerRef:n.ref})}}),(0,h.jsx)(w.xI,{name:"city",control:d,render:e=>{let{field:t}=e;return(0,h.jsx)(_.A,{options:r,value:t.value,onChange:e=>{t.onChange(e),a(e)},placeholder:"City",isSearchable:!0,variant:"basic",innerRef:t.ref})}})]}),(0,h.jsx)("div",{children:(0,h.jsx)(w.xI,{name:"phone",control:d,render:e=>{let{field:t}=e;return(0,h.jsx)(N.K9,{required:!0,className:A()("field",{"field--error":o.phone}),placeholder:"Entrer votre numero mpbile money  SVP",format:"+225 ## ## ## ## ##",mask:"_",getInputRef:t.ref})}})}),(0,h.jsxs)("div",{className:p,children:[(0,h.jsx)("button",{className:"btn",type:"submit",children:"Payer"}),(0,h.jsx)("button",{className:"btn btn--outlined",type:"reset",onClick:c,children:"Annuler"})]})]})};var P=n(3936),F=n(77265),E=n(11030);const O=e=>{let{reqBuyTicket:t}=e;const n=(0,E.Zp)(),a=(0,d.d4)((e=>e.events.ticketsDesired)),r=(0,d.d4)((e=>e.events.eventSelected)),s=(0,d.d4)((e=>e.events.error)),l=((0,d.d4)((e=>e.events.message)),(0,d.d4)((e=>e.events.status.buyTicket))),[i,{data:o,loading:m}]=(0,F.n)(t),x=(0,d.wA)(),[v,f]=(0,u.useState)(!1),{handleSubmit:b,formState:{errors:g},reset:j,control:y}=(0,w.mN)({defaultValues:{tel:""}});return(0,u.useEffect)((()=>{"failed"===l&&k.oR.error(s),0===Object.keys(a).length&&n("/"),console.log(Object.keys(a).length)}),[x,l]),(0,h.jsxs)("form",{className:"d-flex flex-column g-20",onSubmit:b((async(e,t)=>{t.preventDefault();let s=[];Object.entries(a).forEach((e=>{let[t,n]=e;s.push({eventId:r.id,ticket_categoryId:t,quantity:n.quantity})}));try{await x((0,c.Gq)({buyTicketsFunc:i,tickets:s,transaction:{debitNumber:e.tel,way:"WAVE"}})).unwrap(),k.oR.success("Allez dans votre profil pour telecharger vos tickets"),n("/",{replace:!0})}catch(l){console.log(" Error",l),k.oR.error(l.message)}})),children:[(0,h.jsx)("div",{children:(0,h.jsx)(w.xI,{name:"tel",control:y,render:e=>{let{field:{ref:t,value:n,onChange:a}}=e;return(0,h.jsx)(N.K9,{required:!0,className:A()("field",{"field--error":g.tel}),placeholder:"Entrer votre numero wave SVP",format:"+225 ##########",mask:"_",onChange:e=>a(e.target.value),value:n,getInputRef:t})}})}),(0,h.jsx)("div",{className:p,children:"loading"===l?(0,h.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,h.jsx)(P.A,{color:"success",style:{margin:"auto"}})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{className:"btn",type:"submit",children:"Payer"}),(0,h.jsx)("button",{className:"btn btn--outlined",type:"reset",onClick:j,children:"Annuler"})]})})]})},V=()=>{const[e,t]=(0,u.useState)(),[n,a]=(0,u.useState)(),[r,s]=(0,u.useState)([]),{register:l,handleSubmit:i,formState:{errors:o},reset:c,control:d}=(0,w.mN)({defaultValues:{name:"Lottie Poole",phone:"",email:"",birth:"",country:null,city:null,address:"",zip:""}}),m=()=>{let e=I()().getData();for(let t=0;t<e.length;t++)"RU"===e[t].value&&(e[t].label="Russia [terrorist state]");return e};return(0,h.jsxs)("form",{className:"d-flex flex-column g-20",onSubmit:i((e=>{k.oR.success("Your changes have been successfully saved!")})),children:[(0,h.jsxs)("div",{className:f,children:[(0,h.jsx)("input",{className:A()("field",{"field--error":o.name}),type:"text",defaultValue:"Lottie Poole",placeholder:"Name",...l("name",{required:!0})}),(0,h.jsx)(w.xI,{name:"phone",control:d,render:e=>{let{field:t}=e;return(0,h.jsx)(N.K9,{className:A()("field",{"field--error":o.phone}),placeholder:"Phone",format:"+1 (###) ###-####",mask:"_",getInputRef:t.ref})}})]}),(0,h.jsxs)("div",{className:f,children:[(0,h.jsx)("input",{className:A()("field",{"field--error":o.email}),type:"text",placeholder:"Email",...l("email",{pattern:/^\S+@\S+$/i})}),(0,h.jsx)(w.xI,{name:"birth",control:d,render:e=>{let{field:t}=e;return(0,h.jsx)(N.K9,{className:A()("field",{"field--error":o.birth}),placeholder:"Birth date",format:"##/##/####",mask:"_",getInputRef:t.ref,value:t.value,onChange:t.onChange})}})]}),(0,h.jsxs)("div",{className:f,children:[(0,h.jsx)(w.xI,{name:"country",control:d,render:e=>{let{field:n}=e;return(0,h.jsx)(_.A,{options:m(),value:n.value,onChange:e=>{n.onChange(e),(e=>{t(e),a(null);let n=[];R.A.getCitiesOfCountry(e.value).map((e=>n.push({value:e.name,label:e.name}))),s(n)})(e)},placeholder:"Country",isSearchable:!0,variant:"basic",innerRef:n.ref})}}),(0,h.jsx)(w.xI,{name:"city",control:d,render:e=>{let{field:t}=e;return(0,h.jsx)(_.A,{options:r,value:t.value,onChange:e=>{t.onChange(e),a(e)},placeholder:"City",isSearchable:!0,variant:"basic",innerRef:t.ref})}})]}),(0,h.jsxs)("div",{className:f,children:[(0,h.jsx)("input",{className:A()("field",{"field--error":o.address}),type:"text",placeholder:"Address",...l("address")}),(0,h.jsx)("input",{className:A()("field",{"field--error":o.zip}),type:"text",placeholder:"Postal code",...l("zip",{pattern:/^\d{5}(?:[-\s]\d{4})?$/i})})]}),(0,h.jsxs)("div",{className:p,children:[(0,h.jsx)("button",{className:"btn",type:"submit",children:"Payer"}),(0,h.jsx)("button",{className:"btn btn--outlined",type:"reset",onClick:c,children:"Annuler"})]})]})};var z,T=n(22092),K=n(33600);const M=(0,n(57654).J1)(z||(z=(0,x.A)(["\n  mutation BuyTickets(\n    $tickets: [buyTicketsEventInput!]!\n    $transaction: TransactionInput!\n  ) {\n    buyTickets(tickets: $tickets, transaction: $transaction) {\n      message\n    }\n  }\n"]))),B=()=>{const[e,t]=(0,u.useState)("wave"),{width:n}=(0,K.A)();return(0,h.jsxs)(l.A,{className:"card d-flex flex-column card-padded",children:[(0,h.jsx)("h3",{children:"Methode de Paiement"}),(0,h.jsx)("div",{className:"d-flex flex-column justify-content-between flex-1",children:(0,h.jsxs)(j.t,{value:e,children:[(0,h.jsxs)(b.j,{className:"".concat(v," tab-nav col-2"),children:[(0,h.jsx)(y.A,{title:n>=375?"Mobile money":"Mobile",onClick:()=>t("mobile_money"),active:"mobile_money"===e}),(0,h.jsx)(y.A,{title:"Wave",onClick:()=>t("wave"),active:"wave"===e}),(0,h.jsx)(y.A,{title:"Visa",onClick:()=>t("visa"),active:"visa"===e})]}),(0,h.jsx)(g.K,{value:"mobile_money",children:(0,h.jsx)(T.A,{in:"mobile_money"===e,timeout:400,children:(0,h.jsx)("div",{children:(0,h.jsx)(q,{})})})}),(0,h.jsx)(g.K,{value:"wave",children:(0,h.jsx)(T.A,{in:"wave"===e,timeout:400,children:(0,h.jsx)("div",{children:(0,h.jsx)(O,{reqBuyTicket:M})})})}),(0,h.jsx)(g.K,{value:"visa",children:(0,h.jsx)(T.A,{in:"visa"===e,timeout:400,children:(0,h.jsx)("div",{children:(0,h.jsx)(V,{})})})})]})})]})},$={recap:(0,h.jsx)(m,{}),payment:(0,h.jsx)(B,{})},D=()=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.A,{title:"Paiement"}),(0,h.jsx)(a.A,{id:"buying_ticket",widgets:$})]})},95586:(e,t,n)=>{n.d(t,{A:()=>f});var a,r=n(57528),s=n(81427),l=n(21998),i=n.n(l),o=n(93623);const c=(0,s.i7)(a||(a=(0,r.A)(["\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),d=(0,s.Ay)(o.Ay).withConfig({componentId:"sc-19wqqb6-0"})([".select{&__control{cursor:pointer;transition:var(--transition);border:none;min-height:unset;border-radius:4px;box-shadow:none;&--is-focused,&:hover{outline:none;}&--is-focused .icon{transform:rotate(180deg);}.icon{transition:.3s ease-in-out;}}&__single-value{overflow:visible;}&__menu{min-width:max-content;width:100%;border-radius:12px;z-index:100;animation:"," var(--transition);&.close{animation:"," var(--transition) reverse;}&-list{max-height:160px;overflow-y:auto;scroll-behavior:smooth;z-index:100;}}&__option{cursor:pointer;transition:var(--transition);&:hover,&--is-focused,&--is-selected{background:transparent;color:var(--header);}}&__indicator,&__indicator-separator{display:none;}&__value-container{padding:0;}}"],c,c),u=(0,s.Ay)(d).withConfig({componentId:"sc-19wqqb6-1"})([".select{&__control{background-color:transparent;border:1px solid var(--border);padding:0 12px;height:40px;&--is-focused,&:hover{border-color:var(--highlight);}}&__placeholder{color:var(--placeholder);}&__single-value{color:var(--text);line-height:1;}&__menu{box-shadow:var(--widget-shadow);background:var(--widget);border:",";width:100%;}}"],i()("theme",{light:"1px solid var(--widget)",dark:"1px solid var(--border)"}));var h=n(27565),m=n(19119),x=n(27929);const v=e=>{let{options:t,value:n,onChange:a,variant:r="basic",...s}=e;const[l]=(0,h.useState)((()=>"select_"+Math.random().toFixed(5).slice(2))),i={classNamePrefix:"select",id:s.id||l,isSearchable:!0,options:t,value:n,onChange:a,placeholder:s.placeholder,openMenuOnFocus:!0,blurInputOnSelect:!0,ref:s.innerRef,defaultValue:s.defaultValue,onMenuClose:()=>{const e=document.querySelector("#".concat(s.id||l," .select__menu")),t=null===e||void 0===e?void 0:e.parentElement,n=null===e||void 0===e?void 0:e.cloneNode(!0);n&&(n.classList.add("close"),n.addEventListener("animationend",(()=>{null===t||void 0===t||t.removeChild(n)})),null===t||void 0===t||t.appendChild(n))},components:{Control:e=>{let{children:t,...n}=e;return(0,x.jsxs)(m.c.Control,{className:"basic"===r?"field-input":"",...n,children:[t,"minimal"===r?(0,x.jsx)("i",{className:"icon icon-caret-down"}):(0,x.jsx)("i",{className:"icon icon-chevron-down"})]})}}};return(0,x.jsx)(u,{...i})},f=(0,h.memo)(v)},54556:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(81427),r=n(21998),s=n.n(r),l=n(7477),i=n(23163),o=n.n(i),c=n(27929);const d=a.Ay.button.withConfig({componentId:"sc-ol89ox-0"})(["border-radius:0;position:relative;background:",";&.active,&[aria-selected='true'],&:hover,&:focus{background:",";box-shadow:",";}.title{position:relative;z-index:2;}.color{position:absolute;z-index:1;height:100%;width:4px;top:0;transition:width var(--transition);}&:first-of-type .color{&.ltr{left:0;}&.rtl{right:0;}}&:last-of-type .color{transform:scaleX(-1);&.ltr{right:0;}&.rtl{left:0;}}&[data-colored='true']{&.active,&[aria-selected='true'],&:hover,&:focus{background:var(--widget) !important;box-shadow:none;.color{width:100%;}&.dark-bg{color:#fff;}}}"],s()("theme",{light:"var(--body)",dark:"var(--border)"}),s()("theme",{light:"var(--widget) !important",dark:"var(--accent) !important"}),s()("theme",{light:"0 1px 8px rgba(110, 110, 110, 0.1);",dark:"none"})),u=e=>{let{title:t,active:n,onClick:a,type:r="basic",color:s,value:i}=e;const{direction:u}=(0,l.q)();return(0,c.jsxs)(d,{className:o()("btn text-overflow",{active:n,"dark-bg":["blue","purple"].includes(s)}),"data-colored":"color"===r,value:i,onClick:a,children:["color"===r&&(0,c.jsx)("span",{className:"color ".concat(u),style:{backgroundColor:"var(--".concat(s,")")}}),(0,c.jsx)("span",{className:"title",children:t})]})}}}]);
//# sourceMappingURL=7192.5eb150a7.chunk.js.map